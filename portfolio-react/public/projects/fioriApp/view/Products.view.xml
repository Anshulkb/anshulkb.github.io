<mvc:View
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    displayBlock="true"
    xmlns:table="sap.ui.table"
    controllerName="sap.dashboard.controller.Products"
>
    <Page
        showHeader="false"
        enableScrolling="false"
    >
        <table:Table
            id="idProductsTable"
            selectionMode="None"
            rows="{oProductModel>/products}"
            rowHeight="60"
            visibleRowCount="6"
            rowActionCount="1"
            selectionBehavior="Row"
            cellClick="onRowItemSelected"
            class="sapUiTinyMargin"
        >
            <table:extension>
                <OverflowToolbar>
                    <ToolbarSpacer />
                    <Button
                        icon="sap-icon://reset"
                        tooltip="{i18n>resetTbl}"
                        press="onResetTable"
                    />
                    <Button
                        icon="sap-icon://excel-attachment"
                        tooltip="{i18n>download}"
                        press="onDownloadSelected"
                    />
                </OverflowToolbar>
            </table:extension>
            <table:rowActionTemplate>
                <table:RowAction>
                    <table:RowActionItem
                        type="Navigation"
                        press="onRowItemSelected"
                        visible="true"
                    />
                </table:RowAction>
            </table:rowActionTemplate>
            <table:columns>
                <table:Column
                    width="20rem"
                    sortProperty="title"
                    filterProperty="title"
                    hAlign="Center"
                >
                    <Label text="{i18n>product} {i18n>name}" />
                    <table:template>
                        <HBox alignItems="Center">
                            <Image
                                src="{oProductModel>thumbnail}"
                                width="50px"
                                height="50px"
                                class="sapUiTinyMarginEnd"
                            />

                            <Text text="{oProductModel>title}" />
                        </HBox>
                    </table:template>
                </table:Column>
                <table:Column
                    sortProperty="brand"
                    filterProperty="brand"
                    width="10rem"
                >
                    <Label text="{i18n>brand}" />
                    <table:template>
                        <Text
                            text="{path: 'oProductModel>brand',formatter:'.formatter.firstLetterCaps'}"
                            wrapping="true"
                        />
                    </table:template>
                </table:Column>
                <table:Column
                    sortProperty="category"
                    filterProperty="category"
                    width="10rem"
                >
                    <Label text="{i18n>category}" />
                    <table:template>
                        <Text
                            text="{path: 'oProductModel>category',formatter:'.formatter.firstLetterCaps'}"
                            wrapping="true"
                        />
                    </table:template>
                </table:Column>
                <table:Column
                    sortProperty="price"
                    filterProperty="price"
                    width="5rem"
                    filterType="sap.ui.model.type.Integer"
                    filterOperator="EQ"
                >
                    <Label text="{i18n>price}" />
                    <table:template>
                        <Text text="{oProductModel>price}" />
                    </table:template>
                </table:Column>
                <table:Column
                    sortProperty="rating"
                    filterProperty="rating"
                    width="5rem"
                    filterType="sap.ui.model.type.Float"
                    filterOperator="EQ"
                >
                    <Label text="{i18n>rating}" />
                    <table:template>
                        <Text text="{oProductModel>rating}" />
                    </table:template>
                </table:Column>
                <table:Column
                    sortProperty="minimumOrderQuantity"
                    filterProperty="minimumOrderQuantity"
                    width="7rem"
                    filterType="sap.ui.model.type.Integer"
                    filterOperator="EQ"
                >
                    <Label text="{i18n>moq2}" />
                    <table:template>
                        <Text text="{oProductModel>minimumOrderQuantity}" />
                    </table:template>
                </table:Column>
                <table:Column
                    sortProperty="availabilityStatus"
                    filterProperty="availabilityStatus"
                    width="6rem"
                >
                    <Label text="{i18n>availability}" />
                    <table:template>
                        <ObjectStatus
                            text="{oProductModel>availabilityStatus}"
                            state="{path:'oProductModel>availabilityStatus', formatter:'.formatter.stockStatusString'}"
                        />
                    </table:template>
                </table:Column>
                <table:Column width="10rem">
                    <Label text="{i18n>dimension} (WxHxD)" />
                    <table:template>
                        <Text
                            text="{path:'oProductModel>dimensions', formatter:'.formatter.bindDimensions'}"
                            wrapping="true"
                        />
                    </table:template>
                </table:Column>
            </table:columns>
        </table:Table>
    </Page>
</mvc:View>
