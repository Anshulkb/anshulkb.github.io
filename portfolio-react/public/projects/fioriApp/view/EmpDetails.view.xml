<mvc:View
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:m="sap.m"
    xmlns="sap.uxap"
    displayBlock="true"
    xmlns:tnt="sap.tnt"
    xmlns:layout="sap.ui.layout"
    xmlns:f="sap.ui.layout.form"
    xmlns:core="sap.ui.core"
    controllerName="sap.dashboard.controller.EmpDetails"
>
    <ObjectPageLayout
        id="ObjectPageLayout"
        showTitleInHeaderContent="true"
        upperCaseAnchorBar="false"
    >
        <headerTitle>
            <ObjectPageDynamicHeaderTitle>
                <expandedHeading>
                    <m:Title
                        text="{detailsModel>/details/firstName} {detailsModel>/details/maidenName} {detailsModel>/details/lastName}"
                        wrapping="true"
                    />
                </expandedHeading>

                <snappedHeading>
                    <m:FlexBox
                        fitContainer="true"
                        alignItems="Center"
                    >
                        <m:Avatar
                            src="{detailsModel>/details/image}"
                            class="sapUiTinyMarginEnd"
                        />
                        <m:Title
                            text="{detailsModel>/details/firstName} {detailsModel>/details/maidenName} {detailsModel>/details/lastName}"
                            wrapping="true"
                        />
                    </m:FlexBox>
                </snappedHeading>

                <expandedContent>
                    <m:Text text="{detailsModel>/details/company/title}" />
                </expandedContent>

                <snappedContent>
                    <m:Text text="{detailsModel>/details/company/title}" />
                </snappedContent>

                <snappedTitleOnMobile>
                    <m:Title text="{detailsModel>/details/company/title}" />
                </snappedTitleOnMobile>

                <actions>
                    <m:Button
                        text="{i18n>edit}"
                        type="Transparent"
                        visible="{=${detailsModel>/isEditing}===false}"
                        press="onClickEdit"
                    />
                    <m:Button
                        type="Emphasized"
                        text="{i18n>save}"
                        visible="{detailsModel>/isEditing}"
                        enabled="{detailsModel>/isModified}"
                        press="onClickSave"
                    />
                    <m:Button
                        type="Transparent"
                        text="{i18n>cancel}"
                        visible="{detailsModel>/isEditing}"
                        press="onClickCancel"
                    />
                </actions>
                <breadcrumbs>
                    <m:Breadcrumbs
                        currentLocationText="{detailsModel>/details/firstName} {detailsModel>/details/lastName}"
                    >
                        <m:Link
                            text="{i18n>employees}"
                            press="onBackPress"
                        />
                    </m:Breadcrumbs>
                </breadcrumbs>
            </ObjectPageDynamicHeaderTitle>
        </headerTitle>

        <headerContent>
            <m:FlexBox wrap="Wrap">
                <m:Avatar
                    src="{detailsModel>/details/image}"
                    displaySize="L"
                    class="sapUiLargeMarginEnd"
                />

                <layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
                    <m:ObjectStatus
                        title="{i18n>userId}"
                        text="{detailsModel>/details/id}"
                    />
                    <m:ObjectStatus
                        title="{i18n>bloodGrp}"
                        text="{detailsModel>/details/bloodGroup}"
                    />
                    <m:ObjectStatus
                        title="{i18n>country}"
                        text="{detailsModel>/details/address/country}"
                    />
                    <m:ObjectStatus
                        title="{i18n>phNo}"
                        text="{detailsModel>/details/phone}"
                    />
                </layout:VerticalLayout>

                <layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
                    <m:ObjectStatus
                        title="{i18n>funArea}"
                        text="{detailsModel>/details/company/department}"
                    />
                    <m:ObjectStatus
                        title="{i18n>costCtr}"
                        text="{detailsModel>/details/company/name}"
                    />
                    <m:ObjectStatus
                        title="{i18n>email}"
                        text="{detailsModel>/details/email}"
                    />
                </layout:VerticalLayout>

                <layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
                    <layout:layoutData>
                        <ObjectPageHeaderLayoutData
                            visibleS="false"
                            visibleM="false"
                        />
                    </layout:layoutData>
                </layout:VerticalLayout>
            </m:FlexBox>
        </headerContent>

        <sections>
            <ObjectPageSection
                titleUppercase="false"
                title="{i18n>employment}"
            >
                <subSections>
                    <ObjectPageSubSection
                        titleUppercase="false"
                        id="idOPSOfficial"
                    >
                        <blocks>
                            <core:Fragment
                                fragmentName="sap.dashboard.fragment.employee.EmpOfficial"
                                type="XML"
                            />
                        </blocks>
                    </ObjectPageSubSection>
                </subSections>
            </ObjectPageSection>

            <ObjectPageSection
                titleUppercase="false"
                title="{i18n>personal}"
            >
                <subSections>
                    <ObjectPageSubSection titleUppercase="false">
                        <blocks>
                            <core:Fragment
                                fragmentName="sap.dashboard.fragment.employee.EmpPersonal"
                                type="XML"
                            />
                        </blocks>
                    </ObjectPageSubSection>
                </subSections>
            </ObjectPageSection>
        </sections>
    </ObjectPageLayout>
</mvc:View>
