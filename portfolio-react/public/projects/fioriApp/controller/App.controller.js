sap.ui.define(["sap/dashboard/controller/BaseController","sap/ui/core/BusyIndicator"],function(e,t){"use strict";return e.extend("sap.dashboard.controller.App",{onInit(){var e=this.byId("toolPage");const t=this.getOwnerComponent().getModel("mainModel");const a={navList:[],selectedNavListKey:"",sPageTitle:""};t.setData(a);this.setPages();this.loadNavList();e.setSideExpanded(false)},onSideNavButtonPress(){var e=this.byId("toolPage");e.setSideExpanded(!e.getSideExpanded())},async loadNavList(){try{t.show(0);const e=`/projects/dist/utils/navigationList.json`;const a=await fetch(e);if(!a.ok){throw new Error(`HTTP error ${req.status}`)}const s=await a.json();if(!Array.isArray(s)){throw new Error("Invalid menu format type")}const i=this.getOwnerComponent().getModel("mainModel");i.setProperty("/navList",s);this.onItemSelect();i.updateBindings(true)}catch(e){this.showMessageBox("error","Unable to load navigation menu. Error: "+e.message)}finally{t.hide()}},onItemSelect(e){try{const a=e?.getParameter("item")?.getProperty("text")??"Dashboard";const s=this.getOwnerComponent().getModel("mainModel");const i=s.getProperty("/navList");var t=this.byId("toolPage");const o=i.filter(e=>e.text===a)[0].id;s.setProperty("/sPageTitle",a);if(!e?.getParameter("item"))s.setProperty("/selectedNavListKey",o);t.setSideExpanded(false);this.getView().byId("pagesContainer").to(o)}catch(e){this.showMessageBox("error","An unexpected error occured. "+e.message)}},setPages(){const e=this.getView().byId("pagesContainer");const t=[{id:"idDashboard",viewName:"sap.dashboard.view.Dashboard"},{id:"idProduct",viewName:"sap.dashboard.view.Products"},{id:"idChart",viewName:"sap.dashboard.view.Chart"},{id:"idEmployee",viewName:"sap.dashboard.view.Employees"},{id:"idEmpDetails",viewName:"sap.dashboard.view.EmpDetails"},{id:"idMaster",viewName:"sap.dashboard.view.Master"},{id:"idProdDetails",viewName:"sap.dashboard.view.ProdDetails"}];t.forEach(t=>{const a=sap.ui.view({id:t.id,viewName:t.viewName,type:sap.ui.core.mvc.ViewType.XML});e.addPage(a)});this.setNavContainer(e);this.setSideNav(this.byId("idSideNav"))}})});
//# sourceMappingURL=App.controller.js.map